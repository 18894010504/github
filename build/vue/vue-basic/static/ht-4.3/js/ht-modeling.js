!function(L,Y,x){"use strict";var p="ht",n=L[p],C=null,v=Math,m=v.PI,r=v.cos,t=v.sin,B=v.abs,k=v.max,K=v.sqrt,X=1e-5,H=n.Default,i=H.def,D=H.startAnim,E=H.createMatrix,b=H.transformVec,J=H.getInternal(),Q=J.addMethod,g=J.superCall,G=J.toPointsArray,V=J.createNormals,$=J.toFloatArray,I=J.glMV,w=J.batchShape,W=J.createNodeMatrix,M=J.getFaceInfo,P=J.transformAppend,s=J.drawFaceInfo,u=J.createAnim,c=J.cube(),A=c.is,F=c.vs,O=c.uv,_=J.ui(),z=n.Node,U=n.Shape,e="h",l="v",d="front",R="back",y="left",f="right",N="top",T="bottom",a="dw.expanded",S=".expanded",q="dw.angle",j=".angle",h=function(Y,y,d){i(p+"."+Y,y,d)},Z=function(u,S,I){I?u.push(S.x,S.y):u.push(S.x,S.y,S.z)},o=[1,0,0],Oo=function(l,K,Y,W){var t,T,R,B,$=0,J=[];if(W)for(t=W.length;t>$;$+=3)T=W[$],R=W[$+1],B=W[$+2],J.push(new Rl([new Vb([K[3*T],K[3*T+1],K[3*T+2]],o,Y?[Y[2*T],Y[2*T+1],0]:C),new Vb([K[3*R],K[3*R+1],K[3*R+2]],o,Y?[Y[2*R],Y[2*R+1],0]:C),new Vb([K[3*B],K[3*B+1],K[3*B+2]],o,Y?[Y[2*B],Y[2*B+1],0]:C)],l));else for(t=K.length;t>$;$+=3)T=$,R=$+1,B=$+2,J.push(new Rl([new Vb([K[3*T],K[3*T+1],K[3*T+2]],o,Y?[Y[2*T],Y[2*T+1],0]:C),new Vb([K[3*R],K[3*R+1],K[3*R+2]],o,Y?[Y[2*R],Y[2*R+1],0]:C),new Vb([K[3*B],K[3*B+1],K[3*B+2]],o,Y?[Y[2*B],Y[2*B+1],0]:C)],l));return J},gn=[y,d,f,R,N,T],uc=gn.concat("csg"),cn=[0,6,12,18,24,30],sn=function(K,M,h){for(var y=W(K),r=[],Y=0;6>Y;Y++)for(var a=gn[Y],m=cn[Y],i=h?M.getFaceUv(K,a):C,J=h?M.getFaceUvScale(K,a):C,p=h?M.getFaceUvOffset(K,a):C,n=0;2>n;n++){var H,t,u,Q=A[m+3*n],f=A[m+3*n+1],D=A[m+3*n+2];if(h){if(i){var d=8*Y;H=[i[2*Q-d],i[2*Q+1-d],0],t=[i[2*f-d],i[2*f+1-d],0],u=[i[2*D-d],i[2*D+1-d],0]}else H=[O[2*Q],O[2*Q+1],0],t=[O[2*f],O[2*f+1],0],u=[O[2*D],O[2*D+1],0];J&&(H[0]*=J[0],H[1]*=J[1],t[0]*=J[0],t[1]*=J[1],u[0]*=J[0],u[1]*=J[1]),p&&(H[0]+=p[0],H[1]+=p[1],t[0]+=p[0],t[1]+=p[1],u[0]+=p[0],u[1]+=p[1])}r.push(new Rl([new Vb(b([F[3*Q],F[3*Q+1],F[3*Q+2]],y),o,H),new Vb(b([F[3*f],F[3*f+1],F[3*f+2]],y),o,t),new Vb(b([F[3*D],F[3*D+1],F[3*D+2]],y),o,u)],K))}return zi.$15n(r)},qe=function(G,c){var E,W=G.data.getAttaches();if(W&&W.each(function(d){d instanceof Ei&&d.s("attach.operation")&&(E||(E=[]),E.push(d))}),E){var O;gn.forEach(function(I){var t=Oo(I,G[I].vs,G[I].tuv);O=O?O.concat(t):t}),O=zi.$15n(O),E.forEach(function(W){var A=W.s("attach.operation");O[A]&&(O=O[A](sn(W,G.gv,G.csg.tuv)))}),gn.forEach(function(O){O=G[O],O.vs=[],O.tuv&&(O.tuv=[])}),O.$19n().forEach(function(D){var F=D.$10n;if(F instanceof Ei){if(F.s("attach.cull"))return;F="csg"}for(var u=G[F],R=u.vs,P=u.tuv,E=D.$9n,n=2;n<E.length;n++)Z(R,E[0].$24n),Z(R,E[n-1].$24n),Z(R,E[n].$24n),P&&(Z(P,E[0].uv,!0),Z(P,E[n-1].uv,!0),Z(P,E[n].uv,!0))})}uc.forEach(function(i){var z=G[i];z.visible&&z.vs.length?(z.ns=V(z.vs),$(z,"vs"),$(z,"tuv")):delete G[i]}),c&&(w(G,C,c),G.clear())};Q(H,{createFrameModel:function(x,o,w,j){x=x==C?.07:x,o=o==C?x:o,w=w==C?x:w,j=j?j:{};var t=j.top,k=j.bottom,L=j.left,q=j.right,p=j.front,f=j.back,M=[],c=[];return p===!0?(M.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),c.push(0,0,0,1,1,1,1,1,1,0,0,0)):p===!1||(M.push(-.5,.5,.5,-.5,-.5,.5,-.5+x,-.5,.5,-.5+x,-.5,.5,-.5+x,.5,.5,-.5,.5,.5,.5-x,.5,.5,.5-x,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-x,.5,.5,-.5+x,.5,.5,-.5+x,.5-o,.5,.5-x,.5-o,.5,.5-x,.5-o,.5,.5-x,.5,.5,-.5+x,.5,.5,-.5+x,-.5+o,.5,-.5+x,-.5,.5,.5-x,-.5,.5,.5-x,-.5,.5,.5-x,-.5+o,.5,-.5+x,-.5+o,.5),c.push(0,0,0,1,x,1,x,1,x,0,0,0,1-x,0,1-x,1,1,1,1,1,1,0,1-x,0,x,0,x,o,1-x,o,1-x,o,1-x,0,x,0,x,1-o,x,1,1-x,1,1-x,1,1-x,1-o,x,1-o)),f===!0?(M.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),c.push(1,0,0,1,1,1,0,1,1,0,0,0)):f===!1||(M.push(-.5,.5,-.5,-.5+x,-.5,-.5,-.5,-.5,-.5,-.5+x,-.5,-.5,-.5,.5,-.5,-.5+x,.5,-.5,.5-x,.5,-.5,.5,-.5,-.5,.5-x,-.5,-.5,.5,-.5,-.5,.5-x,.5,-.5,.5,.5,-.5,-.5+x,.5,-.5,.5-x,.5-o,-.5,-.5+x,.5-o,-.5,.5-x,.5-o,-.5,-.5+x,.5,-.5,.5-x,.5,-.5,-.5+x,-.5+o,-.5,.5-x,-.5,-.5,-.5+x,-.5,-.5,.5-x,-.5,-.5,-.5+x,-.5+o,-.5,.5-x,-.5+o,-.5),c.push(1,0,1-x,1,1,1,1-x,1,1,0,1-x,0,x,0,0,1,x,1,0,1,x,0,0,0,1-x,0,x,o,1-x,o,x,o,1-x,0,x,0,1-x,1-o,x,1,1-x,1,x,1,1-x,1-o,x,1-o)),L===!0?(M.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),c.push(0,0,0,1,1,1,1,1,1,0,0,0)):L===!1||(M.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+w,-.5,-.5,-.5+w,-.5,.5,-.5+w,-.5,.5,-.5,-.5,.5,.5-w,-.5,-.5,.5-w,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-w,-.5,.5,-.5+w,-.5,.5-o,-.5+w,-.5,.5-o,.5-w,-.5,.5-o,.5-w,-.5,.5,.5-w,-.5,.5,-.5+w,-.5,-.5+o,-.5+w,-.5,-.5,-.5+w,-.5,-.5,.5-w,-.5,-.5,.5-w,-.5,-.5+o,.5-w,-.5,-.5+o,-.5+w),c.push(0,0,0,1,w,1,w,1,w,0,0,0,1-w,0,1-w,1,1,1,1,1,1,0,1-w,0,w,0,w,o,1-w,o,1-w,o,1-w,0,w,0,w,1-o,w,1,1-w,1,1-w,1,1-w,1-o,w,1-o)),q===!0?(M.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),c.push(1,0,0,1,1,1,0,1,1,0,0,0)):q===!1||(M.push(.5,.5,-.5,.5,-.5,-.5+w,.5,-.5,-.5,.5,-.5,-.5+w,.5,.5,-.5,.5,.5,-.5+w,.5,.5,.5-w,.5,-.5,.5,.5,-.5,.5-w,.5,-.5,.5,.5,.5,.5-w,.5,.5,.5,.5,.5,-.5+w,.5,.5-o,.5-w,.5,.5-o,-.5+w,.5,.5-o,.5-w,.5,.5,-.5+w,.5,.5,.5-w,.5,-.5+o,-.5+w,.5,-.5,.5-w,.5,-.5,-.5+w,.5,-.5,.5-w,.5,-.5+o,-.5+w,.5,-.5+o,.5-w),c.push(1,0,1-w,1,1,1,1-w,1,1,0,1-w,0,w,0,0,1,w,1,0,1,w,0,0,0,1-w,0,w,o,1-w,o,w,o,1-w,0,w,0,1-w,1-o,w,1,1-w,1,w,1,1-w,1-o,w,1-o)),t===!0?(M.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),c.push(1,1,1,0,0,0,0,0,0,1,1,1)):t===!1||(M.push(.5,.5,.5,.5,.5,-.5,.5-x,.5,-.5,.5-x,.5,-.5,.5-x,.5,.5,.5,.5,.5,-.5+x,.5,.5,-.5+x,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+x,.5,.5,.5-x,.5,.5,.5-x,.5,.5-w,-.5+x,.5,.5-w,-.5+x,.5,.5-w,-.5+x,.5,.5,.5-x,.5,.5,.5-x,.5,-.5+w,.5-x,.5,-.5,-.5+x,.5,-.5,-.5+x,.5,-.5,-.5+x,.5,-.5+w,.5-x,.5,-.5+w),c.push(1,1,1,0,1-x,0,1-x,0,1-x,1,1,1,x,1,x,0,0,0,0,0,0,1,x,1,1-x,1,1-x,1-w,x,1-w,x,1-w,x,1,1-x,1,1-x,w,1-x,0,x,0,x,0,x,w,1-x,w)),k===!0?(M.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),c.push(1,0,0,1,1,1,0,1,1,0,0,0)):k===!1||(M.push(.5,-.5,.5,.5-x,-.5,-.5,.5,-.5,-.5,.5-x,-.5,-.5,.5,-.5,.5,.5-x,-.5,.5,-.5+x,-.5,.5,-.5,-.5,-.5,-.5+x,-.5,-.5,-.5,-.5,-.5,-.5+x,-.5,.5,-.5,-.5,.5,.5-x,-.5,.5,-.5+x,-.5,.5-w,.5-x,-.5,.5-w,-.5+x,-.5,.5-w,.5-x,-.5,.5,-.5+x,-.5,.5,.5-x,-.5,-.5+w,-.5+x,-.5,-.5,.5-x,-.5,-.5,-.5+x,-.5,-.5,.5-x,-.5,-.5+w,-.5+x,-.5,-.5+w),c.push(1,0,1-x,1,1,1,1-x,1,1,0,1-x,0,x,0,0,1,x,1,0,1,x,0,0,0,1-x,0,x,w,1-x,w,x,w,1-x,0,x,0,1-x,1-w,x,1,1-x,1,x,1,1-x,1-w,x,1-w)),{vs:M,uv:c}}}),Q(n.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":x,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":m/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),gn.forEach(function(O){var i={};i[O+S]=!1,i[O+".toggleable"]=!1,i[O+".axis"]=y,i[O+".start"]=0,i[O+".end"]=m/2,i[O+j]=0,Q(n.Style,i,!0)});var zi=function(){this.$4n=[]};zi.$15n=function(A){var h=new zi;return h.$4n=A,h},zi.prototype={clone:function(){var j=new zi;return j.$4n=this.$4n.map(function(t){return t.clone()}),j},$19n:function(){return this.$4n},union:function(A){var j=new Cr(this.clone().$4n),_=new Cr(A.clone().$4n);return j.$3n(_),_.$3n(j),_.$6n(),_.$3n(j),_.$6n(),j.$7n(_.$2n()),zi.$15n(j.$2n())},subtract:function(i){var f=new Cr(this.clone().$4n),D=new Cr(i.clone().$4n);return f.$6n(),f.$3n(D),D.$3n(f),D.$6n(),D.$3n(f),D.$6n(),f.$7n(D.$2n()),f.$6n(),zi.$15n(f.$2n())},intersect:function(v){var b=new Cr(this.clone().$4n),d=new Cr(v.clone().$4n);return b.$6n(),d.$3n(b),d.$6n(),b.$3n(d),d.$3n(b),b.$7n(d.$2n()),b.$6n(),zi.$15n(b.$2n())},inverse:function(){var G=this.clone();return G.$4n.map(function(Q){Q.flip()}),G}},zi.cube=function(J){J=J||{};var $=new Op(J.center||[0,0,0]),E=J.radius?J.radius.length?J.radius:[J.radius,J.radius,J.radius]:[1,1,1];return zi.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(O){return new Rl(O[0].map(function(C){var l=new Op($.x+E[0]*(2*!!(1&C)-1),$.y+E[1]*(2*!!(2&C)-1),$.z+E[2]*(2*!!(4&C)-1));return new Vb(l,new Op(O[1]))}))}))},zi.sphere=function(J){function k(V,z){V*=2*m,z*=m;var v=new Op(r(V)*t(z),r(z),t(V)*t(z));n.push(new Vb(T.$20n(v.$21n(R)),v))}J=J||{};for(var n,T=new Op(J.center||[0,0,0]),R=J.radius||1,j=J.slices||16,V=J.stacks||8,D=[],C=0;j>C;C++)for(var K=0;V>K;K++)n=[],k(C/j,K/V),K>0&&k((C+1)/j,K/V),V-1>K&&k((C+1)/j,(K+1)/V),k(C/j,(K+1)/V),D.push(new Rl(n));return zi.$15n(D)},zi.cylinder=function(w){function I(y,v,A){var f=2*v*m,C=h.$21n(r(f)).$20n(k.$21n(t(f))),q=g.$20n(i.$21n(y)).$20n(C.$21n($)),u=C.$21n(1-B(A)).$20n(F.$21n(A));return new Vb(q,u)}w=w||{};for(var g=new Op(w.start||[0,-1,0]),y=new Op(w.end||[0,1,0]),i=y.$13n(g),$=w.radius||1,L=w.slices||16,F=i.$14n(),N=B(F.y)>.5,h=new Op(N,!N,0).$12n(F).$14n(),k=h.$12n(F).$14n(),D=new Vb(g,F.$11n()),n=new Vb(y,F.$14n()),o=[],E=0;L>E;E++){var f=E/L,Z=(E+1)/L;o.push(new Rl([D,I(0,f,-1),I(0,Z,-1)])),o.push(new Rl([I(0,Z,0),I(0,f,0),I(1,f,0),I(1,Z,0)])),o.push(new Rl([n,I(1,Z,1),I(1,f,1)]))}return zi.$15n(o)};var Op=function(p,C,c){var X=this;3==arguments.length?(X.x=p,X.y=C,X.z=c):"x"in p?(X.x=p.x,X.y=p.y,X.z=p.z):(X.x=p[0],X.y=p[1],X.z=p[2])};Op.prototype={clone:function(){return new Op(this.x,this.y,this.z)},$11n:function(){return new Op(-this.x,-this.y,-this.z)},$20n:function(k){return new Op(this.x+k.x,this.y+k.y,this.z+k.z)},$13n:function(Q){return new Op(this.x-Q.x,this.y-Q.y,this.z-Q.z)},$21n:function(d){return new Op(this.x*d,this.y*d,this.z*d)},$16n:function(K){return new Op(this.x/K,this.y/K,this.z/K)},$23n:function(q){return this.x*q.x+this.y*q.y+this.z*q.z},lerp:function(R,P){return this.$20n(R.$13n(this).$21n(P))},length:function(){return K(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(h){var n=this;return new Op(n.y*h.z-n.z*h.y,n.z*h.x-n.x*h.z,n.x*h.y-n.y*h.x)}};var Vb=function(n,H,l){var y=this;y.$24n=new Op(n),y.$22n=new Op(H),y.uv=l?new Op(l):null};Vb.prototype={clone:function(){var U=this;return new Vb(U.$24n.clone(),U.$22n.clone(),U.uv?U.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(E,c){var S=this;return new Vb(S.$24n.lerp(E.$24n,c),S.$22n.lerp(E.$22n,c),S.uv?S.uv.lerp(E.uv,c):null)}};var re=function(T,f){this.$22n=T,this.w=f};re.$17n=function(Q,c,M){var k=c.$13n(Q).$12n(M.$13n(Q)).$14n();return new re(k,k.$23n(Q))},re.prototype={clone:function(){return new re(this.$22n.clone(),this.w)},flip:function(){var q=this;q.$22n=q.$22n.$11n(),q.w=-q.w},$5n:function(t,r,I,V,s){for(var d=this,J=0,n=1,N=2,B=3,l=0,Q=[],T=0;T<t.$9n.length;T++){var C=d.$22n.$23n(t.$9n[T].$24n)-d.w,f=-X>C?N:C>X?n:J;l|=f,Q.push(f)}switch(l){case J:(d.$22n.$23n(t.$8n.$22n)>0?r:I).push(t);break;case n:V.push(t);break;case N:s.push(t);break;case B:for(var M=[],e=[],T=0;T<t.$9n.length;T++){var R=(T+1)%t.$9n.length,L=Q[T],A=Q[R],Z=t.$9n[T],G=t.$9n[R];if(L!=N&&M.push(Z),L!=n&&e.push(L!=N?Z.clone():Z),(L|A)==B){var C=(d.w-this.$22n.$23n(Z.$24n))/d.$22n.$23n(G.$24n.$13n(Z.$24n)),j=Z.$18n(G,C);M.push(j),e.push(j.clone())}}M.length>=3&&V.push(new Rl(M,t.$10n)),e.length>=3&&s.push(new Rl(e,t.$10n))}}};var Rl=function(S,k){var u=this;u.$9n=S,u.$10n=k,u.$8n=re.$17n(S[0].$24n,S[1].$24n,S[2].$24n)};Rl.prototype={clone:function(){var c=this.$9n.map(function(g){return g.clone()});return new Rl(c,this.$10n)},flip:function(){this.$9n.reverse().map(function(Z){Z.flip()}),this.$8n.flip()}};var Cr=function(F){var J=this;J.$8n=null,J.front=null,J.back=null,J.$4n=[],F&&J.$7n(F)};Cr.prototype={clone:function(){var r=this,c=new Cr;return c.$8n=r.$8n&&r.$8n.clone(),c.front=r.front&&r.front.clone(),c.back=r.back&&r.back.clone(),c.$4n=r.$4n.map(function(i){return i.clone()}),c},$6n:function(){for(var P=this,O=0;O<P.$4n.length;O++)P.$4n[O].flip();P.$8n.flip(),P.front&&P.front.$6n(),P.back&&P.back.$6n();var s=P.front;P.front=P.back,P.back=s},$1n:function(f){var n=this;if(!n.$8n)return f.slice();for(var W=[],Q=[],M=0;M<f.length;M++)n.$8n.$5n(f[M],W,Q,W,Q);return n.front&&(W=n.front.$1n(W)),Q=n.back?n.back.$1n(Q):[],W.concat(Q)},$3n:function(l){var d=this;d.$4n=l.$1n(d.$4n),d.front&&d.front.$3n(l),d.back&&d.back.$3n(l)},$2n:function(){var P=this,q=P.$4n.slice();return P.front&&(q=q.concat(P.front.$2n())),P.back&&(q=q.concat(P.back.$2n())),q},$7n:function(l){var N=this;if(l.length){N.$8n||(N.$8n=l[0].$8n.clone());for(var g=[],M=[],X=0;X<l.length;X++)this.$8n.$5n(l[X],N.$4n,N.$4n,g,M);g.length&&(N.front||(N.front=new Cr),this.front.$7n(g)),M.length&&(N.back||(N.back=new Cr),N.back.$7n(M))}}};var ef="symbol",Dr=n.Symbol=function(h,$,m){var d=this;g(Dr,d),d.s3(20,20,20),d.s({"all.visible":!1,shape:"rect"}),d.setIcon(h,$,m)};h("Symbol",z,{setIcon:function(g,R,N){var I,q=this;return Dr.superClass.setIcon.call(q,g),g?(I={for3d:!0,face:"center",position:44,names:[g]},N&&(I.transaprent=!0),R&&(I.autorotate=R),q.addStyleIcon(ef,I)):q.removeStyleIcon(ef),q.setWidth(J.getImageWidth(H.getImage(g),q)||20),I}});var Ei=n.CSGNode=function(){g(Ei,this),this.s({shape:"rect","attach.thickness":1.001})},kf={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};h("CSGNode",z,{_22Q:function(){return Ze},onPropertyChanged:function(k){var N=this,z=N.getHost();Ei.superClass.onPropertyChanged.call(N,k),kf[k.property]&&(z instanceof Tp||z instanceof Ei)&&z.fp("csgNodeChange",!0,!1)}});var Ze=function(J,P){g(Ze,this,[J,P])};i(Ze,_.Node3dUI,{_80o:function(T,w,h){var Y=this;Y._shape3d?Ze.superClass._80o.call(Y,T,w,h):(I(Y.gv),uc.forEach(function(F){s(Y,T,w,Y[F],h)}))},validate:function(w,C){var $=this,I=$.gv,t=$.data;if(t.s("shape3d"))return Ze.superClass.validate.call($,w,C),$._shape3d=!0,void 0;$._shape3d=!1;var H=W(t,I.getMat(t)),J=w&&w.uv;$.vf2("csg",J);for(var Q=0;6>Q;Q++)for(var D=gn[Q],R=cn[Q],Z=$.vf2(D,J,C),n=Z.mat||H,b=Z.vs,L=Z.uv,u=Z.tuv,G=0;2>G;G++){var l=A[R+3*G],Y=A[R+3*G+1],e=A[R+3*G+2];if(P(b,n,[F[3*l],F[3*l+1],F[3*l+2]]),P(b,n,[F[3*Y],F[3*Y+1],F[3*Y+2]]),P(b,n,[F[3*e],F[3*e+1],F[3*e+2]]),u)if(L){var N=8*Q;u.push(L[2*l-N],L[2*l+1-N],L[2*Y-N],L[2*Y+1-N],L[2*e-N],L[2*e+1-N])}else u.push(O[2*l],O[2*l+1],O[2*Y],O[2*Y+1],O[2*e],O[2*e+1])}qe($,w,C)},vf2:function(F,y,e){var s,N=this,w=N.gv.getFaceVisible(N.data,F);return s=M(N,F,e),s.vs=[],s.tuv=w&&(s.texture||y)?[]:C,s.visible=w,s}});var Tp=n.CSGShape=function(){var S=this;g(Tp,S),S.s({"shape.background":C,"shape.border.width":8}),S.setTall(240),S.setElevation(120),S.setThickness(14)};h("CSGShape",U,{IRotatable:!1,_22Q:function(){return Rb},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var Rb=function(R,x){g(Rb,this,[R,x])};i(Rb,_.Shape3dUI,{_80o:function(E,T,k){var M=this;M.undrawable||(I(M.gv),uc.forEach(function(u){s(M,E,T,M[u],k)}))},validate:function(u,w){var n=this,y=n.data,L=y.getPoints();if(n.undrawable=L.size()<2)return n.clear(),void 0;var j=y.isClosePath(),f=k(y._thickness/2,X),z=G(L,C,C,j);uc.forEach(function(N){n.vf(N,u&&u.uv,!0,w)}),j&&(n.left.visible=!1,n.right.visible=!1),n._12O(z,f),n._20Q(z),qe(n,u,w)}});var hi=n.DoorWindow=function(){var E=this;g(hi,E),E.setElevation(100),E.s3(100,200,14)};h("DoorWindow",Ei,{IDoorWindow:!0,toggle:function(I){this.setExpanded(!this.s(a),I)},isExpanded:function(){return this.s(a)},setExpanded:function(y,h){var i,w=this,S=w.$25n,N=w.getDataModel(),L=w.s(a);if(N&&(i=N.getHistoryManager()),S&&(S.stop(!0),delete w.$25n),L!==y){i&&i.beginInteraction();var t=y?w.s("dw.end"):w.s("dw.start");w.s(a,y),h=u(h),h?(L=w.s(q),h.action=function(Q){w.s(q,L+(t-L)*Q)},h.finishFunc=function(){i&&i.endInteraction()},w.$25n=D(h)):(w.s(q,t),i&&i.endInteraction())}},getMat:function(){var p=this,Z=p.s("dw.s3"),a=p.s("dw.t3"),O=p.s("dw.flip"),Q=p.s(q);if(Z||Q||a||O){var K=[];if(O&&K.push({r3:[0,m,0]}),Z&&K.push({s3:Z}),Q){Z=p.s3();var i=p.s("dw.axis"),B=Z[0]/2,h=Z[1]/2;Z[2]/2,i===y?K.push({t3:[B,0,0]},{r3:[0,-Q,0]},{t3:[-B,0,0]}):i===f?K.push({t3:[-B,0,0]},{r3:[0,Q,0]},{t3:[B,0,0]}):i===N?K.push({t3:[0,-h,0]},{r3:[-Q,0,0]},{t3:[0,h,0]}):i===T?K.push({t3:[0,h,0]},{r3:[Q,0,0]},{t3:[0,-h,0]}):i===l?K.push({r3:[0,Q,0]}):i===e&&K.push({r3:[Q,0,0]})}return a&&K.push({t3:a}),E(K)}return C}});var Wb=n.CSGBox=function(){var t=this;g(Wb,t),t.setElevation(100),t.s3(100,200,100)};h("CSGBox",Ei,{ICSGBox:!0,toggleFace:function(x,J){this.setFaceExpanded(x,!this.s(x+S),J)},isFaceExpanded:function(F){return this.s(F+S)},setFaceExpanded:function(Y,e,L){var R=this,r=R.$25n,W=R.s(Y+S);if(r&&(r.stop(!0),delete R.$25n),W!==e){var n=e?R.s(Y+".end"):R.s(Y+".start");R.s(Y+S,e),L=u(L),L?(W=R.s(Y+j),L.action=function(e){R.s(Y+j,W+(n-W)*e)},R.$25n=D(L)):R.s(Y+j,n)}},getFaceMat:function(Y){var w=this,a=w.s(Y+j);if(!a)return C;var F=w.s(Y+".axis"),W=w.s3(),p=W[0]/2,v=W[1]/2,V=W[2]/2,H=[];return Y===d&&(F===y?H.push({t3:[p,0,-V]},{r3:[0,-a,0]},{t3:[-p,0,V]}):F===f?H.push({t3:[-p,0,-V]},{r3:[0,a,0]},{t3:[p,0,V]}):F===N?H.push({t3:[0,-v,-V]},{r3:[-a,0,0]},{t3:[0,v,V]}):F===T?H.push({t3:[0,v,-V]},{r3:[a,0,0]},{t3:[0,-v,V]}):F===l?H.push({t3:[0,0,-V]},{r3:[0,a,0]},{t3:[0,0,V]}):F===e&&H.push({t3:[0,0,-V]},{r3:[a,0,0]},{t3:[0,0,V]})),Y===R&&(F===y?H.push({t3:[-p,0,V]},{r3:[0,-a,0]},{t3:[p,0,-V]}):F===f?H.push({t3:[p,0,V]},{r3:[0,a,0]},{t3:[-p,0,-V]}):F===N?H.push({t3:[0,-v,V]},{r3:[a,0,0]},{t3:[0,v,-V]}):F===T?H.push({t3:[0,v,V]},{r3:[-a,0,0]},{t3:[0,-v,-V]}):F===l?H.push({t3:[0,0,V]},{r3:[0,a,0]},{t3:[0,0,-V]}):F===e&&H.push({t3:[0,0,V]},{r3:[a,0,0]},{t3:[0,0,-V]})),Y===y&&(F===y?H.push({t3:[p,0,V]},{r3:[0,-a,0]},{t3:[-p,0,-V]}):F===f?H.push({t3:[p,0,-V]},{r3:[0,a,0]},{t3:[-p,0,V]}):F===N?H.push({t3:[p,-v,0]},{r3:[0,0,-a]},{t3:[-p,v,0]}):F===T?H.push({t3:[p,v,0]},{r3:[0,0,a]},{t3:[-p,-v,0]}):F===l?H.push({t3:[p,0,0]},{r3:[0,a,0]},{t3:[-p,0,0]}):F===e&&H.push({t3:[p,0,0]},{r3:[0,0,a]},{t3:[-p,0,0]})),Y===f&&(F===y?H.push({t3:[-p,0,-V]},{r3:[0,-a,0]},{t3:[p,0,V]}):F===f?H.push({t3:[-p,0,V]},{r3:[0,a,0]},{t3:[p,0,-V]}):F===N?H.push({t3:[-p,-v,0]},{r3:[0,0,a]},{t3:[p,v,0]}):F===T?H.push({t3:[-p,v,0]},{r3:[0,0,-a]},{t3:[p,-v,0]}):F===l?H.push({t3:[-p,0,0]},{r3:[0,a,0]},{t3:[p,0,0]}):F===e&&H.push({t3:[-p,0,0]},{r3:[0,0,a]},{t3:[p,0,0]})),Y===N&&(F===y?H.push({t3:[p,-v,0]},{r3:[0,0,a]},{t3:[-p,v,0]}):F===f?H.push({t3:[-p,-v,0]},{r3:[0,0,-a]},{t3:[p,v,0]}):F===N?H.push({t3:[0,-v,V]},{r3:[-a,0,0]},{t3:[0,v,-V]}):F===T?H.push({t3:[0,-v,-V]},{r3:[a,0,0]},{t3:[0,v,V]}):F===l?H.push({t3:[0,-v,0]},{r3:[0,0,a]},{t3:[0,v,0]}):F===e&&H.push({t3:[0,-v,0]},{r3:[a,0,0]},{t3:[0,v,0]})),Y===T&&(F===y?H.push({t3:[p,v,0]},{r3:[0,0,-a]},{t3:[-p,-v,0]}):F===f?H.push({t3:[-p,v,0]},{r3:[0,0,a]},{t3:[p,-v,0]}):F===N?H.push({t3:[0,v,-V]},{r3:[-a,0,0]},{t3:[0,-v,V]}):F===T?H.push({t3:[0,v,V]},{r3:[a,0,0]},{t3:[0,-v,-V]}):F===l?H.push({t3:[0,v,0]},{r3:[0,0,a]},{t3:[0,-v,0]}):F===e&&H.push({t3:[0,v,0]},{r3:[a,0,0]},{t3:[0,-v,0]})),E(H)}})}(this,Object);