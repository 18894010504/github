!function(v,L){"use strict";var A="ht",q=v[A],$="px",F="left",e="top",X="bottom",W="right",P="innerHTML",u="className",V="",Z="width",j="height",M="string",S="position",J="absolute",O="0",l="opacity",i="background",E=q.Default,p=E.getInternal(),o=q.Color,C=E.animate,b=E.isTouchable,f=null,Y=(Math.sqrt,v.parseInt),y=v.setTimeout,G=(Math.round,o.titleIconBackground),B=function(j){return typeof j===M||j instanceof String},w=function(){return document},m=function(f){return w().createElement(f)},x=function(){var v=m("div");return v.tabIndex=-1,v.style.outline="none",v},z=function(){return m("canvas")},n=function(w,c){I(w,"-webkit-transform",c),I(w,"-ms-transform",c),I(w,"transform",c)},I=function(l,i,Q){l.style.setProperty(i,Q,f)},r=function(i,T,n){E.def(q.widget[i],T,n)},T=function(b,B){b.appendChild(B)},D=function(z,u){z.removeChild(u)},c=function(){return w().body},h=function(){return w().documentElement},k=function(){return h().clientWidth},N=function(){return h().clientHeight},_=function(p,n,f,B){p.addEventListener(n,f,!!B)},R=function(r){var n=r.touches[0];return n?n:r.changedTouches[0]};p.addMethod(E,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:G},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:G}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:G},{type:"rect",rect:[10,10,80,20],background:G}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:G},{type:"rect",rect:[10,34,56,14],background:G},{type:"rect",rect:[34,10,56,14],background:G},{type:"rect",rect:[82,10,8,56],background:G},{type:"rect",rect:[66,62,24,8],background:G}]},dialogTitleLabelColor:E.labelSelectColor,dialogTitleLabelFont:(b?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:E.labelFont,dialogTitleBackground:o.titleBackground,dialogHeaderBackground:o.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var g=function(_){var x=this;x.$1d=_,x.addListeners()};E.def(g,L,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(l){var r=this,Y=r.$1d,H=Y.$6d,M=Y._config,U=Y.$7d,K=l,g=l.target;if(U.contains(g)||E.preventDefault(l),E.isLeftButton(l)){b&&(K=R(l));var F=r.$8d={x:K.pageX,y:K.pageY};r.$9d={x:F.x,y:F.y},!M.maximized&&M.draggable&&H.contains(g)&&(r.$4d=!0,E.startDragging(r,l)),r.handle_mousemove(l)&&(r.$2d=!0,E.startDragging(r,l)),U.contains(l.target)||Y.$41d.focus()}},handle_mousedown:function(S){this.handle_touchstart(S)},handle_touchend:function(A){if(E.isLeftButton(A)&&!this.$5d&&!this.$3d){var N=this,c=N.$1d,B=A.target,w=c._config,V=c.$18d,m=c.$16d;for(w.closable&&V.contains(B)&&c.hide(),w.maximizable&&m.contains(B)&&(w.maximized?c.restore():c.maximize());B&&(B.className||"").indexOf("dialog-button")<0;)B=B.parentNode;B&&B.buttonItem&&c.action&&c.action(B.buttonItem,A),delete N.$8d,delete N.$9d}},handle_mouseup:function(j){this.handle_touchend(j)},handleWindowTouchEnd:function(v){var j=this,M=j.$1d,I=M.$10d;j.$2d&&j.$3d?I.fire({kind:"endResize",target:M,originEvent:v}):j.$4d&&j.$5d&&I.fire({kind:"endMove",target:M,originEvent:v}),this.clear()},handleWindowMouseUp:function(O){this.handleWindowTouchEnd(O)},handle_mousemove:function(w){var y=this.$1d._config;if(y.maximized)return!1;if("w"!==y.resizeMode&&"h"!==y.resizeMode&&"wh"!==y.resizeMode)return!1;var A=this,s=A.getView(),N=s.querySelector(".resize-area"),d=N.getBoundingClientRect(),h={x:d.left,y:d.top,width:d.width,height:d.height};w=b?R(w):w;var r=w.clientX,G=w.clientY,k={x:r,y:G};return E.containsPoint(h,k)?(I(s,"cursor","nwse-resize"),!0):(I(s,"cursor",V),void 0)},handleWindowTouchMove:function(g){g.preventDefault();var A=g;b&&(A=R(g));var X=this,G=X.$8d,w=X.$9d;if(!(w.x==G.x&&w.y==G.y&&E.getDistance(w,{x:A.pageX,y:A.pageY})<=1)){var _=X.$1d,Q=_._config,c=_.$21d,d=Q.resizeMode||"wh",T=A.pageX-G.x,V=A.pageY-G.y;if(X.$2d){var S=c.offsetWidth,r=c.offsetHeight,j=S+T,M=r+V;if(j=Math.max(j,50),M=Math.max(M,50),"center"===Q.position||Q.position==f){var i={},O=c.getBoundingClientRect();i.x=O.left,i.y=O.top,Q.position=i}"w"===d?(_.setSize(j,r),G.x+=j-S):"h"===d?(_.setSize(S,M),G.y+=M-r):"wh"===d&&(_.setSize(j,M),G.x+=j-S,G.y+=M-r),X.$3d?_.$10d.fire({kind:"betweenResize",target:_,originEvent:g}):(X.$3d=!0,_.$10d.fire({kind:"beginResize",target:_,originEvent:g}))}else if(X.$4d){var v=c.getBoundingClientRect(),x=v.width,u=v.height,t=k(),K=N(),Z=Y(c.style.left)||0,P=Y(c.style.top)||0,C=Z+T,l=P+V;C+x>t&&(C=t-x),l+u>K&&(l=K-u),0>C&&(C=0),0>l&&(l=0);var z=C-Z,D=l-P;I(c,F,C+$),I(c,e,l+$),G.x+=z,G.y+=D,Q.position={x:C,y:l},X.$5d?_.$10d.fire({kind:"betweenMove",target:_,originEvent:g}):(X.$5d=!0,_.$10d.fire({kind:"beginMove",target:_,originEvent:g}))}}},handleWindowMouseMove:function(q){this.handleWindowTouchMove(q)},handleWindowResize:function(){var M=this,J=M,D=J._config,t=J.$21d,S=k(),q=N(),w=D.width,X=D.height,u=D.position||"center";D.maximized?(I(t,Z,S+$),I(t,j,q+$),I(t,e,O),I(t,F,O)):(I(t,Z,w+$),I(t,j,X+$),"center"===u?(I(t,F,(S-w)/2+$),I(t,e,(q-X)/2+$)):(I(t,F,u.x+$),I(t,e,u.y+$)))},handle_mousewheel:function(I){I.stopPropagation()},handle_DOMMouseScroll:function(D){D.stopPropagation()}}),q.widget.Dialog=function(w){var A=this,a=A._view=x();a[u]="ht-widget-dialog",I(a,S,J),E.baseZIndex!=f&&I(a,"z-index",E.baseZIndex+"");var p=A.$11d=new g(A);A.bindingHandleWindowResize=p.handleWindowResize.bind(A),A.$10d=new q.Notifier,w&&A.setConfig(w)},r("Dialog",L,{ms_v:1,setTitle:function(Y){this._config.title=Y,this.getView().querySelector(".dialog-container-title span").innerHTML=Y},$31d:function(){var R=this,Z=R.$6d=x(),o=R._config,D=R.$12d=R.$13d();Z[u]="dialog-container-title",I(Z,"cursor","default"),I(Z,"white-space","nowrap"),I(Z,"overflow","hidden"),I(Z,"font",E.dialogTitleLabelFont),I(Z,i,o.titleBackground||E.dialogTitleBackground),I(Z,"color",o.titleColor||E.dialogTitleLabelColor);var s=m("span"),L=R.$25d();if(o.titleAlign&&I(Z,"text-align",o.titleAlign),o.titleIcon){var l=R.$14d=R.$15d();T(Z,l)}if(s[P]=o.title,T(Z,s),o.maximizable){var v=R.$16d=R.$17d();T(D,v)}if(o.closable){var h=R.$18d=R.$19d();T(D,h)}return T(Z,D),I(Z,"display","block"),I(Z,"line-height",L+$),Z},$13d:function(){var G=x();return I(G,S,J),I(G,F,O),I(G,W,5+$),I(G,e,O),I(G,X,O),I(G,"text-align",W),I(G,"white-space","nowrap"),G[u]="dialog-title-controls",G},$20d:function(){var V=this.$21d=x(),K=this._config,Z=K.borderWidth;return I(V,S,"fixed"),I(V,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),I(V,"padding",O+" "+Z+$+" "+Z+$+" "+Z+$),I(V,"box-sizing","border-box"),I(V,"-moz-box-sizing","border-box"),V[u]="dialog-container",I(V,i,K.titleBackground||E.dialogTitleBackground),V},$22d:function(){var q,A=this,t=A._config,g=A.$7d=x(),a=t.content,C=0,o=t.contentPadding||0;t.buttons!=f&&t.buttons.length>0&&(C=32),B(a)?g[P]=a:a.getView?(q=a.getView(),T(g,q)):(q=a,T(g,q)),I(g,S,J),I(g,"font",E.dialogContentLabelFont),T(c(),g);var G=g.offsetWidth+1,Y=g.offsetHeight,M=A.$25d();return t.width==f&&(t.width=G+10+2*o),t.height==f&&(t.height=Y+M+C+5+2*o),D(c(),g),q&&(I(q,"box-sizing","border-box"),I(q,"-moz-box-sizing","border-box"),I(q,Z,"100%"),I(q,j,"100%")),g[u]="dialog-content",I(g,e,M+o+$),I(g,X,C+o+$),I(g,F,o+$),I(g,W,o+$),I(g,"overflow","hidden"),g},$23d:function(){var E=this.$41d=x();return E[u]="dialog-overlay",I(E,Z,"100%"),I(E,j,"100%"),I(E,S,"fixed"),I(E,e,O),I(E,F,O),I(E,i,"rgba(235, 235, 235, 0.7)"),E},_config:f,setSize:function(x,j){var u=this,t=u._config;t&&(t.width=x,t.height=j,u.isShowing()&&(u.bindingHandleWindowResize(),u.iv()))},getConfig:function(){return this._config},$24d:function(){var V=this._config,e=V.titleIconSize||16;return b&&(e*=1.2),e},$25d:function(){var o=this._config,h=o.titleHeight||E.widgetTitleHeight;return h},$26d:function(i){I(i,"cursor","pointer"),I(i,"display","inline-block"),I(i,"margin-right",(b?8:4)+$),I(i,"vertical-align",e)},$27d:function(){var G=this.$30d=x(),P=10;return b&&(P=20),I(G,Z,P+$),I(G,j,P+$),I(G,S,J),I(G,X,O),I(G,W,O),G[u]="resize-area",G},$15d:function(){var E=this,I=z();I[u]="dialog-title-control dialog-title-control-icon";var x=E.$25d(),r=E.$24d();return E.$26d(I),p.setCanvas(I,r,x),I},$17d:function(){var h=z();h[u]="dialog-title-control dialog-title-control-maximize";var i=this.$25d(),S=this.$24d();return this.$26d(h),p.setCanvas(h,S,i),h},$19d:function(){var d=z();d[u]="dialog-title-control dialog-title-control-close";var I=this.$25d(),b=this.$24d();return this.$26d(d),p.setCanvas(d,b,I),d},$28d:function(){var _=x();return I(_,i,"white"),I(_,Z,"100%"),I(_,j,"100%"),I(_,S,"relative"),_},$29d:function(){var _=this,d=x();I(d,"line-height",32+$),I(d,S,J),I(d,X,O),I(d,F,O),I(d,"white-space","nowrap"),I(d,"overflow","hidden"),I(d,W,O),I(d,i,E.dialogHeaderBackground),d[u]="dialog-container-buttons";var U=this._config,Y=U.buttonsAlign||W,A=0;return I(d,"text-align",Y),_.$42d=[],U.buttons.forEach(function(M){var z=new q.widget.Button,J=z.getView();J[u]="dialog-button",J.buttonItem=M,_.$42d.push(z),z.setBorderColor(f),z.setBackground(E.dialogButtonBackground),z.setSelectBackground(E.dialogButtonSelectBackground),z.setLabelColor(E.dialogButtonLabelColor),I(J,S,"static"),I(J,"display","inline-block"),I(J,"text-align",F),I(J,"height",24+$);var c=b?10:5;Y===F||Y===W?I(J,"margin-"+Y,c+$):0===A||I(J,"margin-"+F,c+$),I(J,"vertical-align","middle");var t=E.getTextSize(z.getLabelFont(),M.label).width+10;z.onClicked=function(c){M.action&&M.action.call(_,M,c)},z.setLabel(M.label),I(J,Z,t+$),T(d,z.getView()),A++}),d},setConfig:function(b){if(b){var g=this,y=g._view;g._config=b,g.action=b.action,y[P]=V,b.borderWidth==f&&(b.borderWidth=5);var H=g.$23d(),N=g.$28d(),B=g.$31d(),e=g.$22d(),Y=g.$20d(),i=g.$30d=g.$27d();if(T(y,H),T(y,Y),T(Y,N),T(N,B),T(N,e),b.buttons!=f&&b.buttons.length>0){var x=g.$29d();T(N,x)}T(Y,i),b.maximized?(b.maximized=!1,g.bindingHandleWindowResize(),g.maximize(!0)):g.bindingHandleWindowResize(),g.isShowing()&&g.iv()}},hide:function(){var m=this,H=m.$21d,$=m.$41d,F=m._view;F[u]="ht-widget-dialog",C(H).duration(200).scale(.7).set(l,O).end(function(){m.onHidden&&m.onHidden(),D(c(),F),m.$10d.fire({kind:"hide",target:m})}),C($).duration(200).set(l,O).end(),v.removeEventListener("resize",m.bindingHandleWindowResize)},isShowing:function(){return c().contains(this._view)},$32d:function(){var z=this,I=z._config,r=z.$21d;n(r,V),z.iv(),I.maximized?z.$10d.fire({kind:"maximize",target:z}):z.$10d.fire({kind:"restore",target:z})},maximize:function(T){var Q=this,y=Q.$21d,J=Q._config;if(!J.maximized){J.maximized=!0,Q.$33d(),Q.$16d[u]="dialog-title-control dialog-title-control-minimize";var d=k(),f=N(),K=J.width,w=J.height,B=Y(y.style.left)||0,z=Y(y.style.top)||0;Q.$36d=K,Q.$37d=w,Q.$34d=B,Q.$35d=z;var c=T?0:200;C(y).duration(c).set(F,O).set(e,O).set(Z,d+$).set(j,f+$).end(function(){Q.$32d()})}},restore:function(){var o=this,G=o.$34d,v=o.$35d,n=o.$36d,p=o.$37d,O=o._config;if(O.maximized&&(O.maximized=!1,o.$33d(),o.$16d[u]="dialog-title-control dialog-title-control-maximize",o.isShowing()&&G!=f&&v!=f&&n!=f&&p!=f)){var d=o.$21d;C(d).duration(200).set(F,G+$).set(e,v+$).set(Z,n+$).set(j,p+$).end(function(){o.$32d()})}delete o.$34d,delete o.$35d,delete o.$36d,delete o.$37d},show:function(){var H=this,X=H._view,U=H._config,N=H.$21d,J=H.$41d;U&&U.zIndex!=f&&I(X,"z-index",U.zIndex+V),T(c(),X),n(N,"scale(0.7)"),I(N,l,O),H.iv(),H.validate(),H._view[u]+=" dialog-show",y(function(){C(N).duration(200).scale(1).set(l,"1").end(function(){I(N,Z,N.clientWidth+$),I(N,j,N.clientHeight+$),H.onShown&&H.onShown(),H.$10d.fire({kind:"show",target:H})}),C(J).duration(200).set(l,"1").end(),_(v,"resize",H.bindingHandleWindowResize)},30)},addEventListener:function(c,l,X){this.$10d.add(c,l,X)},removeEventListener:function(R,F){this.$10d.remove(R,F)},$38d:function(L,g,m,M){var R=p.initContext(L);p.translateAndScale(R,0,0,1),R.clearRect(0,0,m,m);var J=(m-M)/2;E.drawStretchImage(R,E.getImage(g),"fill",0,J,M,M),R.restore()},$33d:function(){var f=this,q=f._config,z=f.$16d,C=q.maximized?E.dialogRestoreIcon:E.dialogMaximizeIcon;if(z&&C){var K=f.$25d(),W=f.$24d();f.$38d(z,E.getImage(C),K,W)}},$39d:function(){var f=this,z=f._config,b=f.$14d,l=z.titleIcon;if(b&&l){var o=f.$25d(),C=f.$24d();f.$38d(b,E.getImage(l),o,C)}},$40d:function(){var o=this,w=o.$18d,R=E.dialogCloseIcon;if(w&&R){var u=o.$25d(),q=o.$24d();o.$38d(w,E.getImage(R),u,q)}},invalidate:function(m){var H=this,s=H.$42d;H._68I||(H._68I=1,E.callLater(H.validate,H,f,m),H.onInvalidated&&H.onInvalidated(),H._41O("invalidate"));var G=H._config.content;G.invalidate&&G.invalidate(),s&&s.forEach(function(n){n.iv()})},validateImpl:function(){var x=this;x.$40d(),x.$33d(),x.$39d()}})}(this,Object);