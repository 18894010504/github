!function(C,q,$){"use strict";var k="ht",r=C[k],c=r.Default,v=c.isTouchable,G=r.Color,V="px",M="0",z="innerHTML",E="className",N="position",J="absolute",i="width",w="height",T="left",O="top",K="right",X="bottom",S="max-width",t="max-height",W=null,s="none",R="",H=C.parseInt,j=C.setTimeout,Q=c.getInternal(),d=c.animate,a=G.titleIconBackground,P=function(){return document},g=function(e){return P().createElement(e)},y=function(){return g("div")},l=function(){return g("canvas")},_=function(a,Y,y){a.style.setProperty(Y,y,W)},F=function(X,o){return X.style.getPropertyValue(o)},L=function(y,b){y.appendChild(b)},B=function(M,k){M.removeChild(k)},m=function(E){var g=E.scrollWidth,e=E.scrollHeight;return E===P().body&&(g=Math.max(g,P().documentElement.scrollWidth),e=Math.max(e,P().documentElement.scrollHeight)),{width:g,height:e}},n=function(B){var W=B.touches[0];return W?W:B.changedTouches[0]};Q.addMethod(c,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:a,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:a}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:a},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:a}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:a},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:a}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:a},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:a},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:a},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:a}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:a},{type:"rect",rect:[10,118,268,56],background:a},{type:"rect",rect:[10,213,268,56],background:a}]},panelTitleLabelColor:c.labelSelectColor,panelTitleLabelFont:c.labelFont,panelContentLabelFont:c.labelFont,panelTitleBackground:G.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:$},!0);var f=r.widget.Panel=function(v){var S=this,d=S._view=y();S.$1i=0,S.$18i=new r.Notifier,S.$2i="leftTop",_(d,O,M),_(d,T,M),_(d,N,J),_(d,"overflow","hidden"),S._interactor=new u(S),S.setConfig(v),S.addEventListener(function(L){var z=S.getPanelConfig(L.id),n=z.content;("beginRestore"===L.kind||"betweenResize"===L.kind||"endToggle"===L.kind)&&(n&&n.invalidate&&n.invalidate(),z.items&&z.items.forEach(function(a){a&&a.content&&a.content.invalidate&&a.content.invalidate()}))})};c.def(f,q,{ms_v:1,_dragContainment:"parent",setConfig:function(u){function o(s){s.expanded=!s.expanded,d.togglePanel(s.id,!0,!0)}if(u){var d=this;d._view[z]=R,d._config=u,d.$35i=[],u.expanded==W&&(u.expanded=u.expand!=W?u.expand:!0);var q=d._view,F=d.$24i(u,q,!0),Z=F[2],H=u.width;d.$35i.push(F[1]),u.items&&u.items.forEach(function(_){_.expanded==W&&(_.expanded=_.expand!=W?_.expand:!0);var G=d.$24i(_,Z.children[0]);d.$35i.push(G[1])});var p=y();_(p,i,10+V),_(p,w,10+V),_(p,N,J),_(p,X,M),_(p,K,M),p[E]="resize-area",L(q,p),d.$10i(),u.flowLayout&&_(q,N,"relative"),_(q,"opacity",M),L(P().body,q),H==W&&(H=q.offsetWidth),_(q,i,H+V),_(q,S,H+V),u.items&&u.items.forEach(function(K){o(K)}),u.buttons&&u.buttons.indexOf("toggle")<0||o(u),u.minimized==W&&u.minimize!=W&&(u.minimized=u.minimize),u.minimized&&u.minimizable!==!1&&d.minimize(!0),B(P().body,q),_(q,"opacity",R),d.iv()}},getPanelConfig:function(Q){var w=this,b=w._config,z=b.items;if(b.id===Q)return b;if(z)for(var j=0;j<z.length;j++){var X=z[j];if(X.id===Q)return X}},getPanelView:function(k){for(var S=this,P=S.$35i,U=0;U<P.length;U++){var m=P[U],M=m.parentNode;if(M.$15i===k)return M}},setDragContainment:function(V){this._dragContainment=V},getDragContainment:function(){return this._dragContainment},$20i:function(){var b=this._config,R=b.restoreIconSize||24;return R},$5i:function(f){var k=f.titleIconSize||16;return v&&(k*=1.2),k},$4i:function(G){var p=G.titleHeight||c.widgetTitleHeight;return p},setTitle:function(u,z){if(z==W&&(z=this._config.id),z!=W){var $=this.getPanelConfig(z),k=this.getPanelView(z);$.title=u,k.querySelector(".panel-title span").innerHTML=u}},setInnerPanel:function(J){var g,i,d=this,Y=J.id,X=d.$35i,U=!1;if(J.expanded==W&&(J.expanded=!0),Y!=W){var P=d.getPanelConfig(Y);if(P){U=!0;var w,B=d.getPanelView(Y),j=B.parentNode,h=B.children[0];if(B!==d._view){d.$11i();for(w in P)delete P.key;for(w in J)P[w]=J[w];g=d.$24i(J,j,!1,B),i=g[1],j.removeChild(B);for(var O=0;O<X.length;O++)if(X[O]===h){X.splice(O,1,i);break}d.$12i(),P.expanded=!P.expanded,d.togglePanel(P.id,!0,!0),d.iv()}}}if(!U){d.$11i(),g=d.$24i(J,d._view.children[1]),i=g[1],X.push(i),d._config.items||(d._config.items=[]);var V=d._config.items;if(V.push(J),d.$12i(),V.length>1){var p=V[V.length-2],q=d.getPanelView(p.id).children[0];_(q,"border-bottom",d.$55i(p))}J.expanded=!J.expanded,d.togglePanel(J.id,!0,!0),d.iv()}},removeInnerPanel:function(k){var j,V=this,Q=-1,B=V._config.items;if(B)for(j=0;j<B.length;j++){var o=B[j];if(o.id===k){Q=j;break}}if(V.$11i(),Q>=0){var v=V.$35i,O=V.getPanelView(k),K=O.children[0];for(j=0;j<v.length;j++)if(v[j]===K){v.splice(j,1);break}B.splice(Q,1),O.parentNode.removeChild(O)}if(V.$12i(),B.length>0){var P=B[B.length-1],R=V.getPanelView(P.id).children[0];_(R,"border-bottom",V.$55i(P))}},$6i:function(c){_(c,"cursor","pointer"),_(c,"display","inline-block"),_(c,"margin-right",(v?8:4)+V),_(c,"vertical-align",O)},$24i:function(Z,k,J,U){var R=this,G=R._config.flowLayout,O=J?k:y(),n=R.$50i(Z),j=R.$3i(Z,J);O[E]="ht-widget-panel"+(J?" outer-panel":" inner-panel"),Z.borderWidth==W&&(Z.borderWidth=J?2:0);var w=Z.borderWidth;if(w="0 "+w+V+" "+w+V+" "+w+V+" ",_(O,"padding",w),L(O,j),L(O,n),J||(U?k.insertBefore(O,U):L(k,O)),!G&&J&&Z.minimizable!==!1){var b=l(),p=R.$20i(),P=Z.restoreToolTip;Q.setCanvas(b,p,p),b[E]="control-button button-minimize button-minimize-restore",R.$6i(b),_(b,"display","none"),L(k,b),b.title=P||""}var h=Z.titleBackground||c.panelTitleBackground;if(_(O,"background-color",h),Z.id==W){for(var s=R.$1i++;R.getPanelConfig(s);)s=R.$1i++;Z.id=s}return O.$15i=Z.id,Z.width&&(O.style.width=Z.width+V),[O,j,n]},$9i:function(S){var z=l();z[E]="control-button button-toggle button-toggle-expand",z.title=S.toggleToolTip||"";var x=this.$4i(S),o=this.$5i(S);return this.$6i(z),Q.setCanvas(z,o,x),z},$8i:function(h){var S=l(),e="control-button button-independent-switch";S[E]=h.independent===!0?e+" button-independent-switch-on":e+" button-independent-switch-off",S.title=h.independentSwitchToolTip||"";var R=this.$4i(h),w=this.$5i(h);return this.$6i(S),Q.setCanvas(S,w,R),S},$7i:function(u){var A=l();A[E]="control-button button-minimize button-minimize-minimize",A.title=u.minimizeToolTip||"";var M=this.$4i(u),b=this.$5i(u);return this.$6i(A),Q.setCanvas(A,b,M),A},$55i:function(I){var m=this._config,l=m.items,d=I.separatorWidth||c.panelSeparatorWidth,p=I.titleBackground||c.panelTitleBackground,R=I.expanded!==!1?p:I.separatorColor||c.panelSeparatorColor||c.brighter(p);return(m===I||l&&l.indexOf(I)===l.length-1)&&(d=0),d+V+" solid "+R},$3i:function(A,C){var h=this,H=h._config.flowLayout,G=y(),I=y(),j=h.$4i(A),D=A.titleBackground,Z=A.titleColor,r=A.titleIcon,x=A.buttons;if(G[E]="panel-title",_(G,N,"relative"),_(G,"background",D||c.panelTitleBackground),_(G,"color",Z||c.panelTitleLabelColor),_(G,O,M),_(G,"box-sizing","border-box"),_(G,"-moz-box-sizing","border-box"),_(G,"padding","0 5px 0 0"),_(G,i,"100%"),_(G,"cursor","default"),_(G,"white-space","nowrap"),_(G,"font",c.panelTitleLabelFont),r){var S=l();S[E]="control-button panel-title-icon";var f=h.$4i(A),R=h.$5i(A);h.$6i(S),Q.setCanvas(S,R,f),L(G,S)}var w=g("span");_(w,"display","inline-block"),_(w,"margin-left","5px"),w[z]="<span>"+A.title+"</span>",L(G,w),_(G,"line-height",j+V),I[E]="panel-title-controls",_(I,N,J),_(I,T,M),_(I,K,5+V),_(I,O,M),_(I,X,M),_(I,"text-align",K);var Y=function(){var M=h.$9i(A);L(I,M)},p=function(){if(!H&&C&&A.minimizable!==!1){var R=h.$7i(A);L(I,R)}},s=function(){if(!C){var x=h.$8i(A);L(I,x)}},e=function(q){var u=l();u[E]="control-button custombutton-"+q.name,u.title=q.toolTip||"",u._action=q.action;var a=h.$4i(A),f=h.$5i(A);h.$6i(u),Q.setCanvas(u,f,a),L(I,u)};if(x)for(var v=0;v<x.length;v++){var U=x[v];"string"==typeof U?"minimize"===U?p():"independentSwitch"===U?s():"toggle"===U&&Y():"object"==typeof U&&e(U)}else p(),Y();return L(G,I),G},$50i:function(S){var $=y(),G=S.contentHeight,q=y();if(_(q,N,"relative"),$[E]="panel-body",_($,"overflow","hidden"),_($,"background","white"),_($,"font",c.panelContentLabelFont),L($,q),S.content){var K;S.content.getView?(L(q,S.content.getView()),K=q.children[0]):S.content instanceof Element?(L(q,S.content),K=q.children[0]):q[z]=S.content,K&&(_(K,i,"100%"),_(K,w,"100%")),G&&_(q,w,G+V)}return $},$10i:function(){var F=this,k=F._config,J=F._view,d=J.querySelector(".resize-area").style;d.display=k.flowLayout||k.minimized===!0||k.expanded===!1?s:"block"},$11i:function(){var E=this._view,U=E.children[1];this.$13i>=0?this.$13i++:this.$13i=1,_(U,t,R),_(E,S,R)},$12i:function(){var m=--this.$13i;if(0===m){var K=this._view,B=K.children[1];_(B,t,B.scrollHeight+V),_(K,S,K.offsetWidth+V)}},$14i:function(){var e=this._view,c=e.children[0],C=c.children[1].children,O=this._config,D=0;e.$26i=e.offsetWidth,D+=c.children[0].offsetWidth,O.titleIcon&&(D+=c.children[1].offsetWidth,C=c.children[2].children);for(var p=0;p<C.length;p++){var j=C[p];D+=j.offsetWidth+5}e.$51i=D+15},togglePanel:function(c,F,$){function j(W){var m=W.target,G=m.parentNode,t=x.getPanelConfig(G.$15i);delete G.$19i,m!==H&&x.$12i(),x.$18i.fire({kind:"endToggle",target:x,id:t.id})}for(var x=this,C=x._view,H=C.children[1],Z=W,s=x.$35i,g=s.length,q=x._config.exclusive,I=x.$2i,U=[],b=x._config.narrowWhenCollapse,Y=0;g>Y;Y++){var w=s[Y],G=w.parentNode,r=G.$15i,T=x.getPanelConfig(r);r===c&&(Z=G),!F&&q&&T.expanded&&G!==C&&r!==c&&T.independent!==!0&&U.push(G)}if(Z&&!Z.$19i){Z.$19i=!0;var B=Z.children[1],e=Z.querySelector(".button-toggle"),n=x.getPanelConfig(Z.$15i);if(!e)return;Z===C||n.expanded||n.independent===!0||U.forEach(function(z){x.togglePanel(z.$15i,!0)}),Z!==C&&x.$11i();var z=200;if($&&(z=0),x.$18i.fire({kind:"beginToggle",target:x,id:Z.$15i}),n.expanded){var P=function(){e[E]="control-button button-toggle",e[E]+=I.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",_(B,i,B.clientWidth+V),n.expanded=!1,_(Z.children[0],"border-bottom",x.$55i(n)),d(B).duration(z).set("opacity",M).set(t,M).end(j),b&&Z===C&&d(Z).duration(z).set(S,Z.$51i+V).end(),Z[E]+=" panel-collapse",d(Z).duration(z).set("padding-bottom",M).end(),x.$28i(n,!0),x.$10i()};b&&Z===C&&x.$14i(),P()}else e[E]="control-button button-toggle",e[E]+=I.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",_(B,i,R),n.expanded=!0,_(Z.children[0],"border-bottom",x.$55i(n)),d(B).duration(z).set("opacity","1").set(t,B.scrollHeight+V).end(j),b&&Z===C&&d(Z).duration(z).set(S,(Z.$26i||Z.offsetWidth)+V).end(),Z[E]=Z[E].replace(" panel-collapse",R),d(Z).duration(z).set("padding-bottom",n.borderWidth+V).end(),x.$28i(n,!0),x.$10i()}},$16i:function(){var P=this._view,U=P.$22i,L=P.$23i,M=this.$2i;return U==W&&(M.indexOf(T)>=0?U=P.$22i=0:M.indexOf(K)>=0&&(U=P.$22i=100)),L==W&&(M.indexOf("Top")>=0?L=P.$23i=0:M.indexOf("Bottom")>=0&&(L=P.$23i=100)),[U,L]},$25i:function(){var B=this,Q=B._view,y=Q.$21i,l=B.$20i(),W=B.$16i(),J=W[0],e=W[1],G=B.$2i;Q.children[0].style.display=s,Q.children[1].style.display=s,Q.children[2].style.display=R,_(Q,"padding",M),_(Q,S,l+V),"leftTop"===G?(_(Q,T,H(F(Q,T))+(y.width-l)*J/100+V),_(Q,O,H(F(Q,O))+(y.height-l)*e/100+V)):"leftBottom"===G?(_(Q,T,H(F(Q,T))+(y.width-l)*J/100+V),_(Q,X,H(F(Q,X))+(y.height-l)*(1-e/100)+V)):"rightTop"===G?(_(Q,K,H(F(Q,K))+(y.width-l)*(1-J/100)+V),_(Q,O,H(F(Q,O))+(y.height-l)*e/100+V)):"rightBottom"===G&&(_(Q,K,H(F(Q,K))+(y.width-l)*(1-J/100)+V),_(Q,X,H(F(Q,X))+(y.height-l)*(1-e/100)+V)),Q[E]+=" panel-minimized",B.$18i.fire({kind:"endMinimize",target:B,id:Q.$15i})},$17i:function(){var Y=this,y=Y._config,H=Y._view;_(H,"-webkit-transform",R),_(H,"-ms-transform",R),_(H,"transform",R),y.minimized?Y.$25i():(Y.$18i.fire({kind:"endRestore",target:Y,id:y.id}),H[E]=H[E].replace(" panel-minimized",R)),delete H.$19i},minimize:function(z){var k=this,C=k._view;if(!C.$19i&&C.children[0].style.display!==s){var Q=k._config,H=C.getBoundingClientRect(),a=k.$20i(),X=H.width,V=H.height,Z=a/X,K=a/V,M=k.$16i(),u=M[0],W=M[1];C.$52i=Z,C.$53i=K,C.$21i=H,k.$18i.fire({kind:"beginMinimize",target:k,id:C.$15i});var t=200;z&&(t=0),Q.minimized=!0,C.$19i=!0,Q.expanded&&(C.$26i=C.offsetWidth);var l=u+"% "+W+"%";_(C,"-webkit-transform-origin",l),_(C,"-ms-transform-origin",l),_(C,"transform-origin",l),d(C).duration(t).scale(Z,K).end(function(){k.$17i()}),k.$10i()}},restore:function(){var G,L,$,Y,o,f,c,P,l,x,q,Q,M=this,R=M._view,i=R.parentNode,E=M._config;if(!R.$19i&&E.minimized){var N=R.$21i,u=R.$52i,a=R.$53i,w=E.borderWidth+V,Z=w,v=w,z=0,U=M.$20i(),t=m(i),A=M.$2i;"leftTop"===A?(G=H(F(R,T)),$=H(F(R,O)),o=G,c=$,l=G+N.width-t.width,x=$+N.height-t.height,l>0&&(l>=G?G=0:G-=l),x>0&&(x>=$?$=0:$-=x),q=100*((o-G)/(N.width-U)),Q=100*((c-$)/(N.height-U)),_(R,T,G+V),_(R,O,$+V)):"leftBottom"===A?(G=H(F(R,T)),Y=H(F(R,X)),o=G,P=Y,l=G+N.width-t.width,x=Y+N.height-t.height,l>0&&(l>=G?G=0:G-=l),x>0&&(x>=Y?Y=0:Y-=x),q=100*((o-G)/(N.width-U)),Q=100*(1-(P-Y)/(N.height-U)),_(R,T,G+V),_(R,X,Y+V)):"rightTop"===A?(L=H(F(R,K)),$=H(F(R,O)),f=L,c=$,l=L+N.width-t.width,x=$+N.height-t.height,l>0&&(l>=L?L=0:L-=l),x>0&&(x>=$?$=0:$-=x),q=100*(1-(f-L)/(N.width-U)),Q=100*((c-$)/(N.height-U)),_(R,K,L+V),_(R,O,$+V)):"rightBottom"===A&&(L=H(F(R,K)),Y=H(F(R,X)),f=L,P=Y,l=L+N.width-t.width,x=Y+N.height-t.height,l>0&&(l>=L?L=0:L-=l),x>0&&(x>=Y?Y=0:Y-=x),q=100*(1-(f-L)/(N.width-U)),Q=100*(1-(P-Y)/(N.height-U)),_(R,K,L+V),_(R,X,Y+V)),R.children[0].style.display="block",R.children[1].style.display="block",R.children[2].style.display=s,_(R,"padding",z+" "+Z+" "+v+" "+w),_(R,"-webkit-transform","scale("+u+", "+a+")"),_(R,"-ms-transform","scale("+u+", "+a+")"),_(R,"transform","scale("+u+", "+a+")"),R.$22i=q,R.$23i=Q,_(R,"-webkit-transform-origin",q+"% "+Q+"%"),_(R,"-ms-transform-origin",q+"% "+Q+"%"),_(R,"transform-origin",q+"% "+Q+"%"),E.narrowWhenCollapse&&!E.expanded?_(R,S,R.$51i+V):_(R,S,R.$26i+V),M.$18i.fire({kind:"beginRestore",target:M,id:R.$15i}),R.$19i=!0,E.minimized=!1,j(function(){d(R).scale(1,1).end(function(){M.$17i()})},30),M.$10i()}},addEventListener:function(e,M,x){this.$18i.add(e,M,x)},removeEventListener:function(k,d){this.$18i.remove(k,d)},setPosition:function(j,t){var d=this._view,y=this.$2i;"leftTop"===y?(_(d,T,j+V),_(d,O,t+V),_(d,K,R),_(d,X,R)):"leftBottom"===y?(_(d,T,j+V),_(d,X,t+V),_(d,K,R),_(d,O,R)):"rightTop"===y?(_(d,K,j+V),_(d,O,t+V),_(d,T,R),_(d,X,R)):"rightBottom"===y&&(_(d,K,j+V),_(d,X,t+V),_(d,T,R),_(d,O,R)),delete d.$22i,delete d.$23i},getPosition:function(){var h=this._view,n=this.$2i;return"leftTop"===n?{x:H(F(h,T)),y:H(F(h,O))}:"leftBottom"===n?{x:H(F(h,T)),y:H(F(h,X))}:"rightTop"===n?{x:H(F(h,K)),y:H(F(h,O))}:"rightBottom"===n?{x:H(F(h,K)),y:H(F(h,X))}:void 0},setPositionRelativeTo:function($){var w=this,_=w._view.querySelectorAll(".button-toggle"),K="control-button button-toggle",c=w.getPosition();w.$2i=$,w.setPosition(c.x,c.y);for(var z=0;z<_.length;z++){var V=_[z],O=w.getPanelConfig(V.parentNode.parentNode.parentNode.$15i);V[E]=O.expanded?$.indexOf("Bottom")>=0?K+" button-toggle-collapse":K+" button-toggle-expand":$.indexOf("Bottom")>=0?K+" button-toggle-expand":K+" button-toggle-collapse"}w.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(g){var r=this;r._68I||(r._68I=1,c.callLater(r.validate,r,W,g),r.onInvalidated&&r.onInvalidated(),r._41O("invalidate"));var h=this._config,o=h.content;o&&o.invalidate&&o.invalidate(),h.items&&h.items.forEach(function(Y){Y&&Y.content&&Y.content.invalidate&&Y.content.invalidate()})},$27i:function(b,K,h,D){var L=Q.initContext(b);Q.translateAndScale(L,0,0,1),L.clearRect(0,0,h,h);var r=(h-D)/2;c.drawStretchImage(L,c.getImage(K),"fill",0,r,D,D),L.restore()},$28i:function(m){var O,Q,F,G=this,Z=m.id,A=G.getPanelView(Z),I=A.querySelector(".button-toggle"),i=G.$2i.indexOf("Bottom")>=0;if(Q=i?c.panelCollapseIcon:c.panelExpandIcon,F=i?c.panelExpandIcon:c.panelCollapseIcon,I){O=m.expanded?c.getImage(F):c.getImage(Q);var r=G.$4i(m),p=G.$5i(m);G.$27i(I,O,r,p)}},$29i:function(N){var M,H=this,D=N.id,K=H.getPanelView(D),R=K.querySelector(".button-independent-switch"),z=c.panelUnLockIcon,W=c.panelLockIcon;if(R){M=N.independent!==!0?c.getImage(W):c.getImage(z);var r=H.$4i(N),Z=H.$5i(N);H.$27i(R,M,r,Z)}},$30i:function(B){var y=this,i=B.id,v=y.getPanelView(i),d=v.querySelector(".button-minimize-minimize"),n=c.panelMinimizeIcon;if(d){var u=y.$4i(B),A=y.$5i(B);y.$27i(d,c.getImage(n),u,A)}},$31i:function(O){var C=this,a=O.id,T=C.getPanelView(a),z=T.querySelector(".button-minimize-restore"),r=O.titleIcon||c.panelRestoreIcon;if(z){var w=C.$20i();C.$27i(z,c.getImage(r),w,w)}},$32i:function(Y){var z=this,M=Y.id,F=z.getPanelView(M);if(Y.buttons){var u=Y.buttons;u.forEach(function(P){var t=P.name,b=P.icon;if(t&&b){var S=F.querySelector(".custombutton-"+t);if(S){var v=z.$4i(Y),s=z.$5i(Y)-1;z.$27i(S,c.getImage(b),v,s)}}})}},$33i:function(Q){var H=this,P=Q.id,a=H.getPanelView(P),Z=a.querySelector(".panel-title-icon"),l=Q.titleIcon;if(Z&&l){var r=H.$4i(Q),u=H.$5i(Q);H.$27i(Z,c.getImage(l),r,u)}},validateImpl:function(){var u=this,B=u._config;u.$28i(B),u.$30i(B),u.$31i(B),u.$32i(B),u.$33i(B),B.items&&B.items.forEach(function(I){u.$28i(I),u.$29i(I),u.$32i(I)})}});var u=function(U){var s=this,z=U.getView();s.$34i=U,s.addListeners(),z.addEventListener("dblclick",s.$42i.bind(s))};c.def(u,q,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(t){for(var R=this.$34i,n=t.target,N=R.$35i,u=N.length,U=0;u>U;U++){var v=N[U];v.contains(n)&&(t.preventDefault(),R.togglePanel(v.parentNode.$15i))}},handle_touchstart:function(W){var K=this,M=K.$34i,h=M._config,d=h.flowLayout,G=W;if(c.preventDefault(W),c.isLeftButton(W)){var J=W.target,r=M.getView().children[0],s=M.getView().querySelector(".button-minimize-restore");v&&(G=n(W));var m=K.$40i={x:G.pageX,y:G.pageY};K.$41i={x:m.x,y:m.y},(!d&&r.contains(J)||s&&s.contains(J))&&(K.$38i=!0,c.startDragging(K,W)),!d&&K.handle_mousemove(W)&&(K.$37i=!0,c.startDragging(K,W),M.$11i())}},handle_mousedown:function(h){this.handle_touchstart(h)},handle_touchend:function(l){var t=this,b=t.$34i,T=l.target,N=b.$35i,I=N.length,r=0,o=b.getView(),Q=o.querySelector(".button-minimize"),x=o.querySelector(".button-minimize-restore");if(!t.$39i&&!t.$36i){if(Q&&Q.contains(T)||x&&x.contains(T))l.preventDefault(),b._config.minimized?b.restore():b.minimize();else for(;I>r;r++){var v=N[r],C=v.parentNode,u=C.$15i,R=b.getPanelConfig(u),L=v.querySelector(".button-toggle"),i=v.querySelector(".button-independent-switch");if(L===T)l.preventDefault(),b.togglePanel(u);else if(i===T){l.preventDefault();var y="button-independent-switch-off",B="button-independent-switch-on";R.independent=R.independent==W?!0:!R.independent,i[E]=R.independent?i[E].replace(y,B):i[E].replace(B,y),b.$29i(R)}else T[E]&&T[E].indexOf("control-button custombutton-")>=0&&v.contains(T)&&T._action.call(b,R,b.getPanelView(u),l)}delete t.$40i,delete t.$41i}},handle_mouseup:function(Q){this.handle_touchend(Q)},handleWindowTouchEnd:function(){var l=this,D=l.$34i;l.$37i&&l.$36i?(D.$18i.fire({kind:"endResize",target:D,id:D.getView().$15i}),D.$12i()):l.$38i&&l.$39i&&D.$18i.fire({kind:"endMove",target:D,id:D.getView().$15i}),this.clear()},handleWindowMouseUp:function(u){this.handleWindowTouchEnd(u)},handle_mousemove:function(e){var s=this,j=s.getView(),L=j.querySelector(".resize-area"),l=L.getBoundingClientRect(),x={x:l.left,y:l.top,width:l.width,height:l.height};e=v?n(e):e;var U=e.clientX,Q=e.clientY,P=s.$34i._config;return P.expanded&&P.minimized!==!0&&c.containsPoint(x,{x:U,y:Q})?(j.style.cursor="nwse-resize",!0):(j.style.cursor=R,void 0)},handleWindowTouchMove:function($){$.preventDefault();var S=$;v&&(S=n($));var d=this,j=d.$40i,z=d.$41i;if(!(z.x==j.x&&z.y==j.y&&c.getDistance(z,{x:S.pageX,y:S.pageY})<=1)){var Y=d.$34i,M=d.getView(),R=M.parentNode,r=Y._config,l=r.resizeMode||"wh",o=S.pageX-j.x,Z=S.pageY-j.y,U=Y.$2i;if(d.$37i){var N=M.children[1].children[0],q=N.clientWidth,B=N.clientHeight,A=q+o,W=B+Z;A=Math.max(A,100),W=Math.max(W,100),"w"===l?(_(M,i,A+V),r.width=A,j.x+=A-q,U.indexOf(K)>=0&&_(M,K,H(F(M,K))-(A-q)+V)):"h"===l?(_(N,w,W+V),r.contentHeight=W,j.y+=W-B,U.indexOf("Bottom")>=0&&_(M,X,H(F(M,X))-(W-B)+V)):"wh"===l&&(_(M,i,A+V),_(N,w,W+V),r.width=A,r.contentHeight=W,j.x+=A-q,j.y+=W-B,U.indexOf("right")>=0&&_(M,K,H(F(M,K))-(A-q)+V),U.indexOf("Bottom")>=0&&_(M,X,H(F(M,X))-(W-B)+V)),d.$36i?Y.$18i.fire({kind:"betweenResize",target:Y,id:Y.getView().$15i}):(d.$36i=!0,Y.$18i.fire({kind:"beginResize",target:Y,id:Y.getView().$15i}))}else if(d.$38i){var t,J,D,k,p,y,f,G,g,E,a=M.getBoundingClientRect(),u=a.width,C=a.height,I=m(R),s=I.width,L=I.height,Q=Y._dragContainment;"leftTop"===U?(t=H(F(M,T))||0,D=H(F(M,O))||0,p=t+o,f=D+Z,"parent"===Q&&(p+u>s&&(p=s-u),f+C>L&&(f=L-C),0>p&&(p=0),0>f&&(f=0)),g=p-t,E=f-D,Y.setPosition(p,f),j.x+=g,j.y+=E):"rightBottom"===U?(J=H(F(M,K))||0,k=H(F(M,X))||0,y=J-o,G=k-Z,"parent"===Q&&(0>y&&(y=0),0>G&&(G=0),y+u>s&&(y=s-u),G+C>L&&(G=L-C)),g=y-J,E=G-k,Y.setPosition(y,G),j.x-=g,j.y-=E):"rightTop"===U?(J=H(F(M,K))||0,D=H(F(M,O))||0,y=J-o,f=D+Z,"parent"===Q&&(0>y&&(y=0),0>f&&(f=0),y+u>s&&(y=s-u),f+C>L&&(f=L-C)),g=y-J,E=f-D,Y.setPosition(y,f),j.x-=g,j.y+=E):"leftBottom"===U&&(t=H(F(M,T))||0,k=H(F(M,X))||0,p=t+o,G=k-Z,"parent"===Q&&(0>p&&(p=0),0>G&&(G=0),p+u>s&&(p=s-u),G+C>L&&(G=L-C)),g=p-t,E=G-k,Y.setPosition(p,G),j.x+=g,j.y-=E),d.$39i?Y.$18i.fire({kind:"betweenMove",target:Y,id:Y.getView().$15i}):(d.$39i=!0,Y.$18i.fire({kind:"beginMove",target:Y,id:Y.getView().$15i}))}}},handleWindowMouseMove:function(M){this.handleWindowTouchMove(M)}});var x=r.widget.PanelGroup=function(Q){var W=this,j=W._view=y();j.style.border="1px dashed black",j.style.position="absolute",j.style.background="rgba(120, 120, 120, 0.4)",W.$48i=new r.List,W._tolerance=100,W._config=Q||{hGap:0,vGap:0},W.bindHandlePanelMove=W.handlePanelMove.bind(W),W.bindHandlePanelEvent=W.handlePanelEvent.bind(W),W.invalidate()};c.def(x,q,{invalidate:function(){var $=this;$._68I||($._68I=1,j(function(){$.validate()},50))},validate:function(){if(this._68I){delete this._68I;var j=this.$48i.get(0);if(j){var x=j.getView().parentNode;x&&(this.layoutPanels(x,"leftTop"),this.layoutPanels(x,"rightTop"),this.layoutPanels(x,"leftBottom"),this.layoutPanels(x,"rightBottom"))}}},setLeftTopPanels:function(){var X=this,Y=X.$43i,Z=X.$48i;Y==W&&(Y=X.$43i=new r.List);for(var k=0;k<arguments.length;k++){var j=arguments[k];if("string"==typeof j)Y.$49i=j;else{if(j._config.flowLayout)continue;j.setPositionRelativeTo("leftTop"),Y.contains(j)||Y.add(j),Z.contains(j)||X.add(j)}}},setRightTopPanels:function(){var Y=this,U=Y.$44i,O=Y.$48i;U==W&&(U=Y.$44i=new r.List);for(var a=0;a<arguments.length;a++){var w=arguments[a];if("string"==typeof w)U.$49i=w;else{if(w._config.flowLayout)continue;w.setPositionRelativeTo("rightTop"),U.contains(w)||U.add(w),O.contains(w)||Y.add(w)}}},setLeftBottomPanels:function(){var E=this,C=E.$45i,N=E.$48i;C==W&&(C=E.$45i=new r.List);for(var i=0;i<arguments.length;i++){var p=arguments[i];if("string"==typeof p)C.$49i=p;else{if(p._config.flowLayout)continue;p.setPositionRelativeTo("leftBottom"),C.contains(p)||C.add(p),N.contains(p)||E.add(p)}}},setRightBottomPanels:function(){var j=this,w=j.$46i,b=j.$48i;w==W&&(w=j.$46i=new r.List);for(var I=0;I<arguments.length;I++){var X=arguments[I];if("string"==typeof X)w.$49i=X;else{if(X._config.flowLayout)continue;X.setPositionRelativeTo("rightBottom"),w.contains(X)||w.add(X),b.contains(X)||j.add(X)}}},add:function(t){if(!t._config.flowLayout){var T=this,Q=T.$48i;Q.contains(t)||(t.addEventListener(T.bindHandlePanelMove),t.addEventListener(T.bindHandlePanelEvent),Q.add(t))}},remove:function(W){var p=this,s=p.$48i;s.contains(W)&&(W.removeEventListener(p.bindHandlePanelMove),W.removeEventListener(p.bindHandlePanelEvent),s.remove(W),p.$43i.contains(W)&&p.$43i.remove(W),p.$44i.contains(W)&&p.$44i.remove(W),p.$45i.contains(W)&&p.$45i.remove(W),p.$46i.contains(W)&&p.$46i.remove(W))},layoutPanels:function(X,Z,I){var q=this,$=q._config,F=$.hGap||0,c=$.vGap||0;if(X){var h=q.$43i;if("leftBottom"===Z?h=q.$45i:"rightTop"===Z?h=q.$44i:"rightBottom"===Z&&(h=q.$46i),!h)return;var Q=h.$49i,Y=F,C=c;if(X.contains(q._view)&&X.removeChild(q._view),h&&h.size()>0)for(var O=0;O<h.size();O++){var m=h.get(O),d=m.getView();X=X||d.parentNode,I!==O?m.setPosition(Y,C):("leftTop"===Z?(q._view.style.right="",q._view.style.bottom="",q._view.style.left=Y+V,q._view.style.top=C+V):"leftBottom"===Z?(q._view.style.right="",q._view.style.top="",q._view.style.left=Y+V,q._view.style.bottom=C+V):"rightTop"===Z?(q._view.style.left="",q._view.style.bottom="",q._view.style.right=Y+V,q._view.style.top=C+V):"rightBottom"===Z&&(q._view.style.left="",q._view.style.top="",q._view.style.right=Y+V,q._view.style.bottom=C+V),q._view.style.width=d.offsetWidth+V,q._view.style.height=d.offsetHeight+V,X.insertBefore(q._view,d)),"h"===Q?Y+=d.offsetWidth+F:"v"===Q&&(C+=d.offsetHeight+c)}}},handlePanelEvent:function(q){if("beginToggle"===q.kind||"endToggle"===q.kind||"beginRestore"===q.kind||"endMinimize"===q.kind||"endResize"===q.kind){var a=this,w=q.target,k=w.getView(),_=k.parentNode,U=a.$43i,v=a.$44i,D=a.$45i,M=a.$46i,n=a._config,u=W,d=W,J=w.$47i;if(J==W&&(J=w.$47i=0),"beginToggle"===q.kind?J=w.$47i=J+1:"endToggle"===q.kind&&(J=w.$47i=J-1),U&&U.contains(w)?(u="leftTop",d=U):D&&D.contains(w)?(u="leftBottom",d=D):v&&v.contains(w)?(u="rightTop",d=v):M&&M.contains(w)&&(u="rightBottom",d=M),"beginToggle"===q.kind&&u&&1===J){var S=y(),r=S.style,R=d.$49i,f="each";r.fontSize="0",r.position="absolute",r.width="100%","leftTop"===u?(r.left=0,r.top=0):"leftBottom"===u?(r.left=0,r.bottom=0,"v"===R&&(f="reverseEach")):"rightTop"===u?(r.right=0,r.top=0,r.textAlign="right","h"===R&&(f="reverseEach")):"rightBottom"===u&&(r.right=0,r.bottom=0,r.textAlign="right",f="reverseEach"),d[f](function(X){var m=X.getView(),r=m.style,Q=y();r.position="static",Q.style.textAlign="left",Q.style.position="relative",Q.style.display="inline-block","leftTop"===u?(Q.style.marginLeft=n.hGap+V,Q.style.marginTop=n.vGap+V):"leftBottom"===u?(Q.style.marginLeft=n.hGap+V,Q.style.marginBottom=n.vGap+V):"rightTop"===u?(Q.style.marginRight=n.hGap+V,Q.style.marginTop=n.vGap+V):"rightBottom"===u&&(Q.style.marginRight=n.hGap+V,Q.style.marginBottom=n.vGap+V),Q.appendChild(m),S.appendChild(Q),"h"===R?Q.style.verticalAlign="leftTop"===u||"rightTop"===u?"top":"bottom":S.appendChild(g("br"))}),a.$54i=S,_.appendChild(S)}else"endToggle"===q.kind&&u&&0===J?j(function(){_=_.parentNode.parentNode,_.removeChild(a.$54i),delete a.$54i,d.each(function(N){var S=N.getView(),t=S.style;t.position="absolute",_.appendChild(S)}),a.layoutPanels(_,u)},30):("beginRestore"===q.kind||"endMinimize"===q.kind||"endResize"===q.kind)&&u&&a.layoutPanels(_,u)}},handlePanelMove:function(i){if(!(i.kind.indexOf("Move")<0)){var N=this,b=N._config,Z=b.hGap||0,K=b.vGap||0,o=i.target,B=o._view,_=B.getBoundingClientRect(),k=_.width,f=_.height,P=k/2,s=f/2,Q=B.parentNode,V=N.$43i,Y=N.$44i,l=N.$45i,T=N.$46i,u=Q.getBoundingClientRect(),j=N._tolerance;if("endMove"===i.kind){var O=N._corner;O&&(o.setPositionRelativeTo(O),N.layoutPanels(Q,O)),delete N._corner}if("betweenMove"===i.kind){var G=u.left,U=u.top,w=u.width,p=u.height,c=_.left+k/2,D=_.top+f/2;V==W&&(V=N.$43i=new r.List),l==W&&(l=N.$45i=new r.List),Y==W&&(Y=N.$44i=new r.List),T==W&&(T=N.$46i=new r.List),delete N._corner,V.contains(o)?(V.remove(o),N.layoutPanels(Q,"leftTop")):l.contains(o)?(l.remove(o),N.layoutPanels(Q,"leftBottom")):Y.contains(o)?(Y.remove(o),N.layoutPanels(Q,"rightTop")):T.contains(o)&&(T.remove(o),N.layoutPanels(Q,"rightBottom"));var A=function(m,L){var d=G+Z,f=U+K;if(0===L.size()){var v=d+P,C=f+s;"leftBottom"===m?C=U+p-K-s:"rightTop"===m?v=G+w-Z-P:"rightBottom"===m&&(v=G+w-Z-P,C=U+p-K-s);var h=c-v,R=D-C,A=Math.sqrt(h*h+R*R);if(j>A)return N._corner=m,L.add(o),N.layoutPanels(Q,m,0),!0}else if(1===L.size()){var g=L.get(0),z=g.getView().getBoundingClientRect(),t=z.left+P,V=z.top+s,F=z.left+z.width+Z+P,r=f+s,a=d+P,Y=z.top+z.height+K+s;"leftBottom"===m?(V=z.top+z.height-s,r=U+p-K-s,Y=z.top-K-s):"rightTop"===m?(t=z.left+z.width-P,F=z.left-Z-P,a=G+w-Z-P):"rightBottom"===m&&(t=z.left+z.width-P,V=z.top+z.height-s,F=z.left-Z-P,r=U+p-K-s,a=G+w-Z-P,Y=z.top-K-s);var n=c-t,k=D-V,$=c-F,J=D-r,i=c-a,B=D-Y,e=H(Math.sqrt(n*n+k*k)),M=H(Math.sqrt($*$+J*J)),X=H(Math.sqrt(i*i+B*B)),b=[e,M,X];b.sort(function(O,C){return O-C});var I=b[0];if(j>I){if(N._corner=m,I===e)return L.add(o,0),N.layoutPanels(Q,m,0),!0;if(I===M)return L.add(o),L.$49i="h",N.layoutPanels(Q,m,1),!0;if(I===X)return L.add(o),L.$49i="v",N.layoutPanels(Q,m,1),!0}}else if(L.size()>1){for(var u=W,S={},y=[],_=L.$49i,E=0;E<L.size();E++){var O=L.get(E),l=O.getView(),q=l.getBoundingClientRect(),T=q.left+P,x=q.top+s;"leftBottom"===m?x=q.top+q.height-s:"rightTop"===m?T=q.left+q.width-P:"rightBottom"===m&&(T=q.left+q.width-P,x=q.top+q.height-s),E===L.size()-1&&(u=q);var h=c-T,R=D-x,A=H(Math.sqrt(h*h+R*R));S[A]=E,y.push(A)}"leftTop"===m&&"h"===_?(v=u.left+u.width+Z+P,C=f+s):"leftTop"===m&&"v"===_?(v=d+P,C=u.top+u.height+K+s):"leftBottom"===m&&"h"===_?(v=u.left+u.width+Z+P,C=U+p-K-s):"leftBottom"===m&&"v"===_?(v=d+P,C=u.top-K-s):"rightTop"===m&&"h"===_?(v=u.left-Z-P,C=f+s):"rightTop"===m&&"v"===_?(v=G+w-Z-P,C=u.top+u.height+K+s):"rightBottom"===m&&"h"===_?(v=u.left-Z-P,C=U+p-K-s):"rightBottom"===m&&"v"===_&&(v=G+w-Z-P,C=u.top-K-s),h=c-v,R=D-C,A=H(Math.sqrt(h*h+R*R)),S[A]=E,y.push(A),y.sort(function(u,V){return u-V});var I=y[0];if(j>I)return N._corner=m,L.add(o,S[I]),N.layoutPanels(Q,m,S[I]),!0}};A("leftTop",V)||A("leftBottom",l)||A("rightTop",Y)||A("rightBottom",T)}}}})}(this,Object);